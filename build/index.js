(()=>{"use strict";var e,t={197:()=>{const e=window.wp.element,t=window.wp.plugins,n=window.wp.editPost,l=window.wp.i18n,s=window.wp.components,i=window.wp.data,r=()=>{const[t,r]=(0,e.useState)([]),[a,c]=(0,e.useState)(!1),[o,u]=(0,e.useState)(!1),p=()=>u(!1),m=(0,i.useDispatch)("core/editor").lockPostSaving,d=(0,i.useDispatch)("core/editor").unlockPostSaving,h=(0,e.useRef)(null),[b,g,w,f,k,v]=(0,i.useSelect)((e=>{const t=e("core/editor").getEditedPostAttribute;return[t("title"),t("content"),t("featured_media"),t("excerpt"),t("categories"),t("tags")]}));return(0,e.useEffect)((()=>{a?d():""===b||""===g||""===f||0===w||0===k.length||0===v.length?m():d(),r([{name:"title",label:"Title",isPresent:""!==b},{name:"content",label:"Content",isPresent:""!==g},{name:"excerpt",label:"Excerpt",isPresent:""!==f},{name:"featured_media",label:"Featured Image",isPresent:0!==w},{name:"categories",label:"Categories",isPresent:0!==k.length},{name:"tags",label:"Tags",isPresent:0!==v.length}])}),[a,b,g,w,f,k,v]),(0,e.useEffect)((()=>{let e=!1,t=setInterval((function(){h.current=document.querySelector(".editor-post-publish-button"),h.current&&(e=!0,h.current.addEventListener("click",(()=>{(0,i.select)("core/editor").isPostSavingLocked()&&((0,i.dispatch)("core/edit-post").openGeneralSidebar("edit-post/document"),(0,i.dispatch)("core/edit-post").openGeneralSidebar("edit-post/document"),u(!0))}))),e&&clearInterval(t)}),500)}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.PluginDocumentSettingPanel,{title:(0,l.__)("Publish Checklist","wp-publish-checkist"),name:"checklist-panel",className:"checklist-panel",intialOpen:!0},(0,e.createElement)("p",null,"The following post fields need to be entered before you can publish:"),(0,e.createElement)("ul",{className:"checklist-items"},t.map((t=>(0,e.createElement)("li",{key:t.name,className:t.isPresent?"present":"missing"},(0,e.createElement)(s.Icon,{icon:t.isPresent?"yes":"no"}),(0,e.createElement)("span",null,t.label))))),(0,e.createElement)(s.CheckboxControl,{label:(0,l.__)("Ignore checklist","wp-publish-checkist"),checked:a,onChange:e=>{c(e)}}),o&&(0,e.createElement)(s.Modal,{title:"Publish Checklist",onRequestClose:p},(0,e.createElement)("p",null,"The following post fields need to be entered before you can publish:"),(0,e.createElement)("ul",{className:"checklist-items"},t.filter((e=>!1===e.isPresent)).map((t=>(0,e.createElement)("li",{key:t.name,className:t.isPresent?"present":"missing"},(0,e.createElement)(s.Icon,{icon:t.isPresent?"yes":"no"}),(0,e.createElement)("span",null,t.label))))),(0,e.createElement)(s.Button,{className:"publish-primary",variant:"primary",onClick:()=>{c(!0),d(),(0,i.dispatch)("core/editor").savePost(),p()}},"Publish Anyway"),(0,e.createElement)(s.Button,{variant:"secondary",onClick:p},"Go back"))))};(0,t.registerPlugin)("publishing-checklist",{icon:"yes",render:()=>(0,e.createElement)(r,null)})}},n={};function l(e){var s=n[e];if(void 0!==s)return s.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,l),i.exports}l.m=t,e=[],l.O=(t,n,s,i)=>{if(!n){var r=1/0;for(u=0;u<e.length;u++){for(var[n,s,i]=e[u],a=!0,c=0;c<n.length;c++)(!1&i||r>=i)&&Object.keys(l.O).every((e=>l.O[e](n[c])))?n.splice(c--,1):(a=!1,i<r&&(r=i));if(a){e.splice(u--,1);var o=s();void 0!==o&&(t=o)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,s,i]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};l.O.j=t=>0===e[t];var t=(t,n)=>{var s,i,[r,a,c]=n,o=0;if(r.some((t=>0!==e[t]))){for(s in a)l.o(a,s)&&(l.m[s]=a[s]);if(c)var u=c(l)}for(t&&t(n);o<r.length;o++)i=r[o],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(u)},n=globalThis.webpackChunkwp_publish_checlist=globalThis.webpackChunkwp_publish_checlist||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=l.O(void 0,[431],(()=>l(197)));s=l.O(s)})();